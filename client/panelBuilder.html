<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="Thu, 01 Jan 1970 00:00:00 GMT">
        <title>Layout builder</title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" crossorigin="anonymous" />
        <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
        <script src="https://unpkg.com/konva@9/konva.min.js"></script>

        <script type="text/javascript" src="js/underscore.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>
        <script type="text/javascript" src="js/jsv.js"></script>
        <script type="text/javascript" src="js/jsonform.js"></script>

        <link rel="stylesheet" href="style/main.css">
        <link rel="stylesheet" href="style/buttons.css">
        <link rel="stylesheet" href="style/panelBuilder.css">
    </head>
<body>
    <nav id="topNav" class="topNav">

    </nav>

    <section class="content">
        <div id="trackCanvas" style="width:1024px; height:600px; display: inline-block; position: relative;">
        </div>
        <buttons style="vertical-align: top; width: 200px; height: 400px; display: inline-block;">
            <button id="addLHup" onclick="addPoint()">Add Point</button>
            <button id="addStraightShort" onclick="addStraight('short')">Add Straight (short)</button>
            <button id="addStraightLong" onclick="addStraight('long')">Add Straight (long)</button>
            <button id="addSignal" onclick="addSignal('red')">Add Signal</button><br/>
            <button id="addControlElement" onclick="addControlElement()">Add Control Panel</button><br/>
            <button id="showControllers" onclick="renderControllers()">Show controllers</button><br/>
            <button id="hideControllers" onclick="hideControllers()" >Hide controllers</button><br/>
            <button id="showConnectors" onclick="showConnectors()">Show connectors</button><br/>
            <button id="hideConnectors" onclick="hideConnectors()" >Hide connectors</button><br/>
            <button id="savePanel" onclick="saveStage()">Save panel</button><br/>
        </buttons>
    </section>

    <template id="popupTemplate">
        <div class="popup-overlay" style="position: absolute; top: 20px; left: 20px; width: calc(100% - 40px); height: calc(100% - 40px); background-color: rgba(0, 0, 0, 0.9); z-index: 9999; max-height: calc(100% - 40px); overflow-y: scroll;">
            <button id="closeButton" style="position: absolute; top: 10px; right: 10px; z-index: 1000;">X</button>
            <div class="popup-content" style="position: absolute; padding: 20px; border-radius: 5px; width: inherit;">
                <div id="res" class="alert"></div>
                <h2>Configure <span id="elementType"></span></h2>
                <form id="configureElementForm" method="">
                </form>
            </div>
        </div>
    </template>

    <footer id="footer" class="footer">
        <div id="log" class="log"></div>
        <div class="serverStatus">
            Server <span id="serverStatus"></span>
        </div>
    </footer>

    <script src="js/panelBuilder.js"></script>
    <script src="js/panelBuilderServer.js"></script>
</body>
</html>